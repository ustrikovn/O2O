# Git Workflow для O2O проекта

## Структура веток

```
prod ← uat ← dev ← main ← feature-branches
```

### Описание веток:

- **main** - основная ветка разработки
  - Код готовый к тестированию
  - Все фичи проходят review
  - Автоматические тесты должны проходить

- **dev** - ветка для тестирования новых фич
  - Интеграция новых возможностей
  - Внутреннее тестирование
  - Может содержать экспериментальный код

- **uat** - ветка для пользовательского тестирования
  - User Acceptance Testing
  - Стабильная версия для демо
  - Готовность к релизу

- **prod** - продакшн ветка
  - Только стабильный, протестированный код
  - Релизные версии
  - Автоматический деплой в продакшн

## Процесс разработки:

1. **Создание фичи:**
   ```bash
   git checkout main
   git pull origin main
   git checkout -b feature/название-фичи
   ```

2. **Разработка и коммиты:**
   ```bash
   git add .
   git commit -m "feat: описание изменений"
   git push origin feature/название-фичи
   ```

3. **Merge в main:**
   - Создать Pull Request в GitHub
   - Code Review
   - Merge после одобрения

4. **Перенос в следующие ветки:**
   ```bash
   # main → dev
   git checkout dev
   git merge main
   
   # dev → uat (после тестирования)
   git checkout uat  
   git merge dev
   
   # uat → prod (после UAT)
   git checkout prod
   git merge uat
   ```

## Соглашения по коммитам:

- `feat:` - новая функциональность
- `fix:` - исправление бага
- `docs:` - изменения в документации
- `style:` - форматирование кода
- `refactor:` - рефакторинг
- `test:` - добавление тестов
- `chore:` - обновление зависимостей, конфигов

## Защита веток:

- **main**: требует review, тесты должны пройти
- **uat**: только через merge из dev
- **prod**: только через merge из uat
