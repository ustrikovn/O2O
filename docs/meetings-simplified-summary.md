# ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—Å—Ç—Ä–µ—á - –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ—Å–ª–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### ‚ùå –£–±—Ä–∞–ª–∏ –ª–∏—à–Ω–µ–µ:
- **title** - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏ (–Ω–µ –Ω—É–∂–Ω–æ)
- **satisfaction_rating** - –æ—Ü–µ–Ω–∫–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (–¥–æ–±–∞–≤–∏–º –ø–æ—Ç–æ–º)
- **3 –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã** - —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏** - –≤—Å–µ–≥–¥–∞ –±—ã–ª–∞ –æ–¥–Ω–∞

### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–∏:
- **JSON –¥–ª—è –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π** –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
- **–û–¥–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞** –≤–º–µ—Å—Ç–æ –º–∞—Å—Å–∏–≤–∞
- **–û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞** –≤–º–µ—Å—Ç–æ —Ç—Ä–µ—Ö
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ 20 –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π** (—Å constraint –ø—Ä–æ–≤–µ—Ä–∫–æ–π)

## üìä –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `meetings`:
```sql
CREATE TABLE meetings (
    id UUID PRIMARY KEY,
    employee_id UUID REFERENCES employees(id), -- ‚úÖ –°–í–Ø–ó–¨ –° –°–û–¢–†–£–î–ù–ò–ö–û–ú
    status meeting_status DEFAULT 'scheduled', -- scheduled/active/completed/cancelled
    
    -- –í—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏
    started_at TIMESTAMP WITH TIME ZONE,       -- ‚úÖ –§–ò–ö–°–ê–¶–ò–Ø –ù–ê–ß–ê–õ–ê
    ended_at TIMESTAMP WITH TIME ZONE,         -- ‚úÖ –§–ò–ö–°–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ò–Ø
    
    -- –î–∞–Ω–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏
    notes TEXT,                                -- ‚úÖ –û–î–ù–ê –ó–ê–ú–ï–¢–ö–ê
    agreements JSONB DEFAULT '[]',             -- ‚úÖ –ú–ê–°–°–ò–í –î–û–ì–û–í–û–†–ï–ù–ù–û–°–¢–ï–ô (max 20)
    
    created_at TIMESTAMP WITH TIME ZONE,
    updated_at TIMESTAMP WITH TIME ZONE
);
```

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### 1. **–ù–∞–∂–∏–º–∞–µ–º "–ù–∞—á–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É"**
```javascript
// API –≤—ã–∑–æ–≤
POST /api/meetings { "employeeId": "uuid" }
POST /api/meetings/meeting-id/start
```

```sql
-- –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ë–î:
INSERT INTO meetings (employee_id, status, started_at, agreements) 
VALUES ('—Å–æ—Ç—Ä—É–¥–Ω–∏–∫-uuid', 'active', NOW(), '[]'::jsonb);
```

### 2. **–í–æ –≤—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏ –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–º–µ—Ç–∫–∏**
```javascript
PUT /api/meetings/meeting-id/notes 
{ "notes": "–î–ª–∏–Ω–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞ –æ –≤—Å—Ç—Ä–µ—á–µ..." }
```

```sql
UPDATE meetings 
SET notes = '–î–ª–∏–Ω–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞ –æ –≤—Å—Ç—Ä–µ—á–µ...'
WHERE id = 'meeting-id';
```

### 3. **–î–æ–±–∞–≤–ª—è–µ–º –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏**
```javascript
POST /api/meetings/meeting-id/agreements
{
  "title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á–µ—Ç",
  "description": "–î–æ –ø—è—Ç–Ω–∏—Ü—ã",
  "type": "employee_task"
}
```

```sql
-- –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ JSON –º–∞—Å—Å–∏–≤
UPDATE meetings 
SET agreements = agreements || '[{
  "id": "agreement-1",
  "title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á–µ—Ç", 
  "description": "–î–æ –ø—è—Ç–Ω–∏—Ü—ã",
  "type": "employee_task",
  "created_at": "2024-01-15T10:50:00Z"
}]'::jsonb
WHERE id = 'meeting-id';
```

### 4. **–ù–∞–∂–∏–º–∞–µ–º "–ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É"**
```javascript
POST /api/meetings/meeting-id/end
{ "notes": "–§–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏" }
```

```sql
UPDATE meetings 
SET status = 'completed', 
    ended_at = NOW(),
    notes = '–§–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏'
WHERE id = 'meeting-id';
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∏–º–µ—Ä –∏—Ç–æ–≥–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ë–î:
```json
{
  "id": "meeting-uuid",
  "employee_id": "employee-uuid",
  "status": "completed",
  "started_at": "2024-01-15T10:30:00Z",
  "ended_at": "2024-01-15T11:15:00Z",
  "notes": "–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞. –û–±—Å—É–¥–∏–ª–∏ —Ü–µ–ª–∏ –Ω–∞ –∫–≤–∞—Ä—Ç–∞–ª –∏ —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.",
  "agreements": [
    {
      "id": "agreement-1",
      "title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –Ω–∞–≤—ã–∫–æ–≤",
      "description": "–°–æ—Å—Ç–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è",
      "type": "employee_task",
      "created_at": "2024-01-15T10:50:00Z"
    },
    {
      "id": "agreement-2", 
      "title": "–ù–∞–π—Ç–∏ –º–µ–Ω—Ç–æ—Ä–∞ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞",
      "description": "–°–≤—è–∑–∞—Ç—å—Å—è —Å senior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏",
      "type": "manager_task",
      "created_at": "2024-01-15T10:55:00Z"
    }
  ]
}
```

## üöÄ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ API endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- `POST /api/meetings` - —Å–æ–∑–¥–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É
- `POST /api/meetings/:id/start` - **–Ω–∞—á–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É** 
- `POST /api/meetings/:id/end` - **–∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É**
- `PUT /api/meetings/:id/notes` - –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏
- `POST /api/meetings/:id/agreements` - –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å
- `PUT /api/meetings/:id/agreements` - –∏–∑–º–µ–Ω–∏—Ç—å –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å  
- `DELETE /api/meetings/:id/agreements/:agreementId` - —É–¥–∞–ª–∏—Ç—å –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
- `GET /api/meetings` - —Å–ø–∏—Å–æ–∫ –≤—Å—Ç—Ä–µ—á
- `GET /api/meetings/:id` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `GET /api/meetings/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/meetings/employees/:id/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### üî• –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–û–¥–∏–Ω SELECT** –≤–º–µ—Å—Ç–æ JOIN —Ç—Ä–µ—Ö —Ç–∞–±–ª–∏—Ü
- **–û–¥–∏–Ω UPDATE** –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ 
- **–ú–µ–Ω—å—à–µ –∏–Ω–¥–µ–∫—Å–æ–≤** –∏ constraint –ø—Ä–æ–≤–µ—Ä–æ–∫
- **–ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã** –∫ –ë–î

### üßπ –ü—Ä–æ—Å—Ç–æ—Ç–∞:
- **–û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞** –ª–µ–≥—á–µ –ø–æ–Ω–∏–º–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- **JSON –¥–∞–Ω–Ω—ã–µ** –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- **–ú–µ–Ω—å—à–µ –∫–æ–¥–∞** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –≤—Å—è –≤—Å—Ç—Ä–µ—á–∞ –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:
- **PostgreSQL JSONB** –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π –¥–ª—è –ø–æ–∏—Å–∫–∞
- **GIN –∏–Ω–¥–µ–∫—Å—ã** –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—è–º
- **Constraint –Ω–∞ 20 —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ
- **–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è** –≤ JSON –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π

## üîß –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é:
```bash
cd backend
npm run db:migrate:meetings-simple
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:
```bash
npm run dev
```

## üéØ –ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å:

```javascript
// 1. –ù–∞—á–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º
const response = await fetch('/api/meetings', {
  method: 'POST',
  body: JSON.stringify({ employeeId: selectedEmployee.id })
});
const meeting = await response.json();

await fetch(`/api/meetings/${meeting.data.id}/start`, { method: 'POST' });

// 2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏ –≤–æ –≤—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏
await fetch(`/api/meetings/${meetingId}/notes`, {
  method: 'PUT', 
  body: JSON.stringify({ 
    notes: "–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–æ–¥–µ–ª–∏–ª—Å—è —Å–≤–æ–∏–º–∏ –∏–¥–µ—è–º–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–æ—Ü–µ—Å—Å–æ–≤" 
  })
});

// 3. –î–æ–±–∞–≤–∏—Ç—å –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å
await fetch(`/api/meetings/${meetingId}/agreements`, {
  method: 'POST',
  body: JSON.stringify({
    title: "–ü—Ä–æ–≤–µ—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤",
    description: "–î–æ –∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞",
    type: "employee_task"
  })
});

// 4. –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É
await fetch(`/api/meetings/${meetingId}/end`, {
  method: 'POST',
  body: JSON.stringify({
    notes: "–í—Å—Ç—Ä–µ—á–∞ –±—ã–ª–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π, –Ω–∞–º–µ—Ç–∏–ª–∏ –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π"
  })
});
```

## üéâ –ò—Ç–æ–≥–∏

‚úÖ **–£–±—Ä–∞–ª–∏ –ª–∏—à–Ω–µ–µ** - title, satisfaction_rating  
‚úÖ **–£–ø—Ä–æ—Å—Ç–∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É** - –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –≤–º–µ—Å—Ç–æ —Ç—Ä–µ—Ö  
‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - JSON –¥–ª—è –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π  
‚úÖ **–û–¥–Ω–∞ –∑–∞–º–µ—Ç–∫–∞** - –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ  
‚úÖ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 20 –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è  
‚úÖ **–°–æ—Ö—Ä–∞–Ω–∏–ª–∏ –≤—Å—é –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –Ω–∞—á–∞–ª–æ/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á, –∑–∞–º–µ—Ç–∫–∏, –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏  

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º!
