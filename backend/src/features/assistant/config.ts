/**
 * Конфигурация персонального ассистента
 * 
 * Все конфигурируемые параметры вынесены сюда для удобства настройки.
 */

export const ASSISTANT_CONFIG = {
  /**
   * Пауза без ввода перед анализом (в миллисекундах).
   * Ассистент ждёт, пока пользователь закончит печатать.
   */
  debounceMs: 5000,

  /**
   * Минимальное количество новых слов для запуска анализа.
   * Если пользователь добавил меньше слов с последней рекомендации — анализ не запускается.
   */
  minWordsDelta: 5,

  /**
   * Минимальное количество слов в тексте для запуска анализа.
   * Если текста меньше — ждём пока пользователь добавит ещё.
   */
  minWordsForAnalysis: 10,

  /**
   * Порог удаления в процентах от baseline.
   * Если удалено больше — сбрасываем baseline и анализируем весь текст.
   */
  deletionThresholdPercent: 10,

  /**
   * Порог удаления в словах от baseline.
   * Если удалено больше — сбрасываем baseline и анализируем весь текст.
   */
  deletionThresholdWords: 4,

  /**
   * Минимальный интервал между ответами ассистента (в миллисекундах).
   */
  minIntervalMs: 800,

  /**
   * Таймауты для различных агентов pipeline
   */
  timeouts: {
    /** Быстрый анализ "здесь и сейчас" */
    immediateAnalyst: 10000,
    
    /** Глубокий анализ с историей */
    deepAnalyst: 15000,
    
    /** Агент обнаружения отклонений профиля */
    profileDeviation: 10000,
    
    /** Decision агент */
    decision: 10000,
    
    /** Composer агент */
    composer: 10000,
    
    /** Общий таймаут на весь pipeline */
    pipelineTotal: 60000
  }
} as const;

/** Тип конфигурации для TypeScript */
export type AssistantConfig = typeof ASSISTANT_CONFIG;

